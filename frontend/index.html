<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¼•é‡ç¡çœ è¿½è¹¤ç³»çµ± - Sleep Tracker</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <main class="container">
        <header class="app-header">
            <div class="nav-container">
                <button class="menu-toggle" id="menuToggle" aria-label="åˆ‡æ›åŠŸèƒ½è¡¨">â˜°</button>
                <h1>ğŸ’¤ ç¡çœ è¿½è¹¤ç³»çµ±</h1>
                <nav class="nav-menu" id="navMenu">
                    <a href="index.html" class="nav-link active">ğŸº é¬§é˜</a>
                    <a href="pages/monitoring.html" class="nav-link">ğŸ‘ï¸ æ™ºèƒ½ç›£æ§</a>
                    <a href="pages/history.html" class="nav-link">ğŸ“‹ æ­·å²</a>
                    <a href="pages/settings.html" class="nav-link">âš™ï¸ è¨­å®š</a>
                </nav>
            </div>
            <p class="subtitle">æ™ºèƒ½é¬§é˜è¨­å®š</p>
        </header>

        <div class="content">
            <!-- é¬§é˜è¨­å®šå€åŸŸ -->
            <section class="alarm-setup-section">
                <h2>è¨­å®šæ‚¨çš„é¬§é˜</h2>
                
                <div class="form-group">
                    <label for="wakeupTime">æœ€æ™šå–šé†’æ™‚é–“ï¼š</label>
                    <input 
                        type="time" 
                        id="wakeupTime" 
                        name="wakeupTime"
                        aria-label="è¨­å®šæœ€æ™šå–šé†’æ™‚é–“"
                        required
                    >
                </div>

                <!-- æ™ºèƒ½å–šé†’å»ºè­°å·²ç§»é™¤ -->

                <div class="form-group">
                    <label for="alarmName">é¬§é˜åç¨±ï¼ˆé¸å¡«ï¼‰ï¼š</label>
                    <input 
                        type="text" 
                        id="alarmName" 
                        name="alarmName"
                        placeholder="ä¾‹å¦‚ï¼šé€±ä¸€å·¥ä½œ"
                        aria-label="è¼¸å…¥é¬§é˜åç¨±"
                    >
                </div>

                <div class="form-group">
                    <label for="alarmDays">é‡è¤‡è¨­å®šï¼š</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="days" value="monday" class="day-checkbox">
                            <span>é€±ä¸€</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="days" value="tuesday" class="day-checkbox">
                            <span>é€±äºŒ</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="days" value="wednesday" class="day-checkbox">
                            <span>é€±ä¸‰</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="days" value="thursday" class="day-checkbox">
                            <span>é€±å››</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="days" value="friday" class="day-checkbox">
                            <span>é€±äº”</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="days" value="saturday" class="day-checkbox">
                            <span>é€±å…­</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="days" value="sunday" class="day-checkbox">
                            <span>é€±æ—¥</span>
                        </label>
                    </div>
                </div>

                <button class="btn btn-primary" id="saveAlarmBtn">ä¿å­˜é¬§é˜</button>
            </section>

            <!-- å·²è¨­å®šçš„é¬§é˜åˆ—è¡¨ -->
            <section class="alarms-list-section">
                <h2>å·²è¨­å®šçš„é¬§é˜</h2>
                <div id="alarmsList" class="alarms-list">
                    <p class="empty-message">é‚„æ²’æœ‰è¨­å®šä»»ä½•é¬§é˜</p>
                </div>
            </section>
        </div>

        <footer class="app-footer">
            <p>è¼•é‡ç¡çœ è¿½è¹¤ç³»çµ± v1.0</p>
        </footer>
    </main>

    <!-- æ¨¡æ…‹è¦–çª—ï¼šç·¨è¼¯é¬§é˜ -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>ç·¨è¼¯é¬§é˜</h2>
            <div class="form-group">
                <label for="editWakeupTime">å–šé†’æ™‚é–“ï¼š</label>
                <input type="time" id="editWakeupTime" aria-label="ç·¨è¼¯å–šé†’æ™‚é–“">
            </div>
            <div class="form-group">
                <label for="editAlarmName">é¬§é˜åç¨±ï¼š</label>
                <input type="text" id="editAlarmName" placeholder="ä¾‹å¦‚ï¼šé€±ä¸€å·¥ä½œ">
            </div>
            <button class="btn btn-primary" id="updateAlarmBtn">æ›´æ–°é¬§é˜</button>
            <button class="btn btn-secondary" id="deleteAlarmBtn">åˆªé™¤é¬§é˜</button>
        </div>
    </div>

    <!-- é¬§é˜éŸ¿éˆ´è¦†è“‹å±¤ -->
    <div id="alarmRing" class="alarm-ring" aria-hidden="true">
        <div class="alarm-ring-content">
            <h2 id="alarmRingTitle">é¬§é˜éŸ¿èµ·</h2>
            <p id="alarmRingMessage">æ™‚é–“åˆ°äº†ï¼è«‹èµ·åºŠæˆ–æŒ‰ä¸‹åœæ­¢ã€‚</p>
            <div class="alarm-ring-actions">
                <button class="btn btn-primary" id="stopAlarmBtn">åœæ­¢éˆ´è²</button>
                <button class="btn btn-secondary" id="snoozeAlarmBtn">ç¨å¾Œ 5 åˆ†é˜</button>
            </div>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/alarm.js"></script>
    <script src="js/app.js"></script>
    <script>
        // æ‰‹æ©Ÿå°èˆªåŠŸèƒ½
        document.getElementById('menuToggle').addEventListener('click', function() {
            const navMenu = document.getElementById('navMenu');
            navMenu.classList.toggle('active');
        });

        // é»æ“Šå°èˆªé …ç›®æ™‚é—œé–‰èœå–®
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function() {
                document.getElementById('navMenu').classList.remove('active');
                // è¨­ç½®ç•¶å‰é é¢çš„æ´»èºç‹€æ…‹
                if (window.location.pathname.includes('index.html') || window.location.pathname.endsWith('/')) {
                    document.querySelector('[href="index.html"]').classList.add('active');
                }
            });
        });

        // é»æ“Šé é¢å…¶ä»–åœ°æ–¹é—œé–‰èœå–®
        document.addEventListener('click', function(e) {
            const navMenu = document.getElementById('navMenu');
            const menuToggle = document.getElementById('menuToggle');
            if (!navMenu.contains(e.target) && !menuToggle.contains(e.target)) {
                navMenu.classList.remove('active');
            }
        });
    </script>
</body>
</html>
