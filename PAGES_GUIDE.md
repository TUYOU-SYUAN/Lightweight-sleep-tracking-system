# 睡眠追蹤系統 - 導航與頁面架構

## 📱 新增功能

### 1. **導航系統**
- ✅ 統一的導航菜單（所有頁面共享）
- ✅ 響應式導航（行動版漢堡菜單）
- ✅ 頁面間無縫切換

### 2. **新增頁面**

#### 📊 儀表板 (`pages/dashboard.html`)
顯示睡眠追蹤的概覽和統計資訊：
- 設定的鬧鐘數量
- 本週追蹤次數
- 平均睡眠時長
- 追蹤狀態
- 最近統計資料
- 最近的鬧鐘列表
- 快速操作按鈕
- 匯出資料功能

#### 📋 歷史紀錄 (`pages/history.html`)
管理和查看睡眠歷史：
- 按日期篩選（開始日期 - 結束日期）
- 歷史記錄清單視圖
- 每日統計（樣本數、平均運動、平均聲音、睡眠時長）
- 匯出為 CSV 格式
- 匯出為 JSON 格式

#### ⚙️ 設定 (`pages/settings.html`)
管理應用程式設定和偏好設定：

**鬧鐘設定**
- 鈴聲音量調整 (0-100%)
- 時間格式 (12H/24H)
- 提前提醒分鐘數
- 啟用/停用通知

**追蹤設定**
- 取樣頻率 (5/10/15/20 Hz)
- 運動敏感度 (1-10)
- 聲音敏感度 (1-10)
- 自動追蹤啟用/停用

**主題設定**
- 深色模式開關

**資料管理**
- 匯出所有資料 (JSON)
- 清空歷史記錄
- 清空所有資料（危險區）

### 3. **響應式設計 (RWD)**

#### 行動版 (320px - 639px)
```
☰ [標題] [導航]
─────────────────
[內容]
[內容]
```
- 單欄佈局
- 漢堡菜單導航（點擊展開）
- 按鈕堆疊排列
- 最小觸控尺寸 44×44px

#### 平板版 (640px - 1023px)
```
[導航菜單] [標題] [導航菜單]
───────────────────────────
[內容1]  [內容2]
[內容3]  [內容4]
```
- 兩欄網格佈局
- 水平導航菜單
- 更大的內容區域
- 表格視圖可用

#### 桌面版 (1024px+)
```
[導航菜單] [標題] [導航菜單]
─────────────────────────────
[內容1] [內容2] [內容3]
[內容4] [內容5] [內容6]
```
- 多欄網格佈局
- 完整水平導航
- 側邊欄可選
- 完整表格視圖

## 📁 文件結構

```
frontend/
├── index.html                    # 主頁面（鬧鐘設定）
├── css/
│   └── styles.css               # 統一樣式表（含 RWD）
├── js/
│   ├── api.js                   # API 通訊層
│   ├── alarm.js                 # 鬧鐘業務邏輯
│   ├── app.js                   # 主應用控制器
│   ├── tracker.js               # 感測器資料收集
│   └── smartAwake.js            # 睡眠狀態檢測
└── pages/
    ├── dashboard.html           # 儀表板頁面
    ├── history.html             # 歷史紀錄頁面
    └── settings.html            # 設定頁面
```

## 🎨 設計規範

### 色彩方案
- 主色：#667eea (藍紫色)
- 輔色：#764ba2 (深紫色)
- 背景漸層：135deg, #667eea → #764ba2
- 文字：#333 (深灰)
- 邊框：#ddd (淺灰)
- 警示：#ff4444 (紅色)

### 字體
- 系統字體堆棧：-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto
- 基礎大小：16px (1rem)
- 相對單位：rem, em （支援文字縮放）

### 按鈕最小尺寸
- 44×44 px （觸控友善）
- 適當內邊距（1rem）

### 色彩對比度
- 符合 WCAG AA 標準 (4.5:1)

## 🔄 導航流程

### 主頁面 (index.html)
```
☰ | 💤 睡眠追蹤系統 | 🏠首頁 📊儀表板 📋歷史 ⚙️設定
```
- 鬧鐘設定區
- 鬧鐘列表區
- 追蹤控制區
- 智能喚醒區

### 儀表板頁面
- 快速訪問主頁面、歷史、設定
- 一鍵返回首頁

### 歷史頁面
- 查看和篩選過往紀錄
- 匯出資料

### 設定頁面
- 自訂應用程式行為
- 管理資料

## 💾 資料儲存

### localStorage 結構
```javascript
{
  "alarms": [],                    // 所有鬧鐘設定
  "trackingSamples": [],           // 所有追蹤樣本
  "appSettings": {                 // 應用程式設定
    "volume": 70,
    "timeFormat": "24h",
    "advanceNotify": 5,
    "enableNotification": true,
    "samplingRate": 10,
    "motionSensitivity": 5,
    "soundSensitivity": 5,
    "autoTracking": false,
    "darkMode": false
  }
}
```

## 🚀 使用說明

1. **首次使用**
   - 設定第一個鬧鐘
   - 檢查儀表板查看統計資訊
   - 在設定頁調整偏好設定

2. **日常使用**
   - 查看儀表板瞭解最新狀態
   - 使用歷史頁查看過往紀錄
   - 修改設定頁的敏感度和喜好設定

3. **資料備份**
   - 定期在設定頁匯出資料
   - 備份 JSON 檔案以防資料遺失

## 📱 行動應用最佳實踐

- 使用媒體查詢和相對單位
- 確保所有按鈕至少 44×44px
- 提供清晰的視覺反饋
- 支援離線模式（localStorage）
- 減少網路請求

## ✅ 已完成

- ✅ 儀表板頁面
- ✅ 歷史紀錄頁面
- ✅ 設定頁面
- ✅ 統一導航菜單
- ✅ 行動版漢堡菜單
- ✅ 響應式設計 (RWD)
- ✅ 平板和桌面佈局優化
- ✅ 資料匯出功能
- ✅ 設定管理

## 🔄 下一步（可選）

- [ ] 深色模式完整實現
- [ ] 圖表視覺化（7天睡眠趨勢圖）
- [ ] 離線 PWA 支援
- [ ] 登入和雲端同步
- [ ] 社交分享功能

---

**版本**：1.0
**最後更新**：2024年
**所有內容**：為響應式設計最佳化
